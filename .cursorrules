# Development Workflow Rules

## Definition of Done (DoD)

A task is **complete** when:
1. ✅ All related tasks are finished
2. ✅ Code builds successfully (`npm run build`)
3. ✅ Changes are committed with clear messages
4. ✅ Changes are pushed to main
5. ✅ Documentation updated (if applicable)
6. ✅ Follows project patterns and architecture

## Pre-Commit Build Check (REQUIRED)

**ALWAYS** run a local build before committing and pushing to GitHub:

1. **Run build**: `npm run build` (or project-specific build command)
2. **Verify success**: Build must complete without errors
3. **Only then commit**: If build fails, fix errors before committing
4. **Push to main**: After successful build and commit

### Why?
- Auto-deployment triggers on every push to main
- Broken builds would deploy broken code to production
- Catching errors locally prevents production issues

### Complete Workflow:
```bash
# 1. Make changes and finish related tasks
# 2. Test locally
npm run build

# 3. If build succeeds (DoD alignment):
git add -A
git commit -m "Description"
git push origin main

# 4. Auto-deployment will trigger on successful push
# 5. Workflow is complete when tasks are done AND DoD is met
```

### Exception:
- Documentation-only changes (markdown files) may skip build
- But still verify with `npm run build` if unsure

## Multi-Project Workflow

When working across multiple projects (e.g., cardmass + sso):

1. Build each project separately
2. Commit each project separately
3. Push each project separately
4. Verify each deployment separately
5. Ensure DoD is met for each project

